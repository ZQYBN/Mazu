"use strict";var _baseComponent=_interopRequireDefault(require("../helpers/baseComponent")),_classNames2=_interopRequireDefault(require("../helpers/libs/classNames")),_styleToCssString=_interopRequireDefault(require("../helpers/libs/styleToCssString")),_colors=require("../helpers/colors"),_eventsMixin=_interopRequireDefault(require("../helpers/mixins/eventsMixin"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(0,_baseComponent.default)({useField:!0,externalClasses:["wux-input-class"],behaviors:[(0,_eventsMixin.default)()],relations:{"../field/index":{type:"ancestor"}},properties:{prefixCls:{type:String,value:"wux-selectable"},type:{type:String,value:"checkbox"},value:{type:String,value:""},defaultChecked:{type:Boolean,value:!1},checked:{type:Boolean,value:!1,observer:function(e){this.data.controlled&&this.updated(e)}},disabled:{type:Boolean,value:!1},readOnly:{type:Boolean,value:!1},color:{type:String,value:"balanced",observer:function(e){this.setData({inputColor:(0,_colors.isPresetColor)(e)})}},controlled:{type:Boolean,value:!1},wrapStyle:{type:[String,Object],value:"",observer:function(e){this.setData({extStyle:(0,_styleToCssString.default)(e)})}},iconSize:{type:String,value:""},iconOn:{type:String,value:""},iconOff:{type:String,value:""}},data:{inputChecked:!1,inputColor:"",extStyle:"",innerIconSize:"23",innerIconOn:"success",innerIconOff:"circle"},observers:_defineProperty({},"type, iconSize, iconOn, iconOff",function(e,t,n,i){var r=""===t,o=""===n&&""===i;"checkbox"===e?this.setData({innerIconSize:r?23:parseInt(t),innerIconOn:o?"success":n,innerIconOff:o?"circle":i}):"radio"===e&&this.setData({innerIconSize:r?16:parseInt(t),innerIconOn:o?"success_no_circle":n,innerIconOff:o?"":i})}),computed:{classes:["prefixCls, inputChecked, disabled, readOnly",function(e,t,n,i){var r;return{wrap:(0,_classNames2.default)(e,(_defineProperty(r={},"".concat(e,"--checked"),t),_defineProperty(r,"".concat(e,"--disabled"),n),_defineProperty(r,"".concat(e,"--readonly"),i),r)),input:"".concat(e,"__input"),icon:"".concat(e,"__icon")}}]},methods:{updated:function(e){this.hasFieldDecorator||this.data.inputChecked!==e&&this.setData({inputChecked:e})},onChange:function(){var e=this.data,t=e.value,n=e.inputChecked,i=e.disabled,r=e.readOnly,o=e.controlled,a={checked:!n,value:t,type:"checkbox"};i||r||(o||this.updated(!n),this.triggerEvent("change",a))}},attached:function(){var e=this.data,t=e.defaultChecked,n=e.checked,i=e.controlled?n:t,r=(0,_colors.isPresetColor)(this.data.color);this.setData({inputChecked:i,inputColor:r})}});